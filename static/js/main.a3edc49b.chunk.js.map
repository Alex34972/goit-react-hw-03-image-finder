{"version":3,"sources":["components/imageGallery/ImageGallery.module.css","components/button/Button.module.css","App.module.css","components/imageGalleryItem/ImageGalleryItem.module.css","components/loader/LoaderComponent.module.css","components/searchbar/Searchbar.js","components/button/Button.js","components/imageGalleryItem/ImageGalleryItem.js","components/imageGallery/ImageGallery.js","components/loader/LoaderComponent.js","components/modal/Modal.js","services/image-api.js","App.js","reportWebVitals.js","index.js","components/searchbar/Searchbar.module.css","components/modal/Modal.module.css"],"names":["module","exports","Searchbar","state","searchImages","handleNameChange","event","setState","currentTarget","value","toLowerCase","trim","handleSubmit","preventDefault","props","onSubmit","this","className","s","SearchForm","type","SearchForm__button","SearchForm__button_label","SearchForm__input","autoComplete","autoFocus","placeholder","onChange","Component","Button","onMore","onClick","ImageGalleryItem","modalContent","id","onItemClick","webformatURL","src","alt","ImageGalleryItem_image","ImageGallery","handleOpenModal","e","target","images","map","image","LoaderComponent","Loader","color","height","width","modalRoot","document","getElementById","Modal","handleBackdropClick","onClose","handleKeyDown","code","window","addEventListener","removeEventListener","content","createPortal","Overlay","imgModal","api","fetchImages","nextName","page","console","log","url","fetch","then","response","ok","json","Promise","reject","Error","App","renderImages","isLoading","openModal","error","hadleChangeImage","handleNextPage","onScroll","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","toggleLoading","modalContentSet","itemId","element","find","largeImageURL","prevProps","prevState","imageAPI","hits","catch","finally","isNotLastPage","length","btnBeView","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.a3edc49b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1dBlV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2ZjTO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1-aRn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2O_DO\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__19x6z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"LoaderComponent_Loader__5NDjS\"};","import React from \"react\";\nimport { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Searchbar.module.css\";\nexport default class Searchbar extends Component {\n  state = {\n    searchImages: \"\",\n  };\n  handleNameChange = (event) => {\n    this.setState({\n      searchImages: event.currentTarget.value.toLowerCase().trim(),\n    });\n  };\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const { searchImages } = this.state;\n    this.props.onSubmit(searchImages);\n    this.setState({ searchImages: \"\" });\n  };\n  render() {\n    const { searchImages } = this.state;\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.SearchForm__button}>\n            <span className={s.SearchForm__button_label}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchForm__input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={searchImages}\n            onChange={this.handleNameChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\nconst Button = ({ onMore }) => {\n  return (\n    <button type=\"button\" className={s.Button} onClick={onMore}>\n      Load more\n    </button>\n  );\n};\nButton.propTypes = {\n  onMore: PropTypes.func.isRequired,\n};\nexport default Button;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport s from \"./ImageGalleryItem.module.css\";\n\nexport default class ImageGalleryItem extends Component {\n  modalContent = (id) => {\n    this.props.onItemClick(id);\n  };\n  render() {\n    const { id, webformatURL } = this.props;\n    return (\n      <img\n        src={webformatURL}\n        alt=\"\"\n        className={s.ImageGalleryItem_image}\n        onClick={() => this.modalContent(id)}\n      />\n    );\n  }\n}\nImageGalleryItem.propTypes = {\n  onItemClick: PropTypes.func.isRequired,\n  id: PropTypes.number.isRequired,\n  webformatURL: PropTypes.string.isRequired,\n};\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./ImageGallery.module.css\";\nimport ImageGalleryItem from \"../imageGalleryItem\";\n\nexport default class ImageGallery extends Component {\n  handleOpenModal = (e) => {\n    if (e.target !== e.currentTarget) {\n      this.props.onClick();\n    }\n  };\n\n  render() {\n    const { images, onItemClick } = this.props;\n    return (\n      <ul className={s.ImageGallery} onClick={this.handleOpenModal}>\n        {images &&\n          images.map((image) => (\n            <li key={image.id} className={s.ImageGalleryItem}>\n              <ImageGalleryItem {...image} onItemClick={onItemClick} />\n            </li>\n          ))}\n      </ul>\n    );\n  }\n}\nImageGallery.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  onItemClick: PropTypes.func.isRequired,\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    })\n  ).isRequired,\n};\n","import Loader from \"react-loader-spinner\";\nimport { Component } from \"react\";\nimport s from \"./LoaderComponent.module.css\";\nexport default class LoaderComponent extends Component {\n  render() {\n    return (\n      <div className={s.Loader}>\n        <Loader type=\"Bars\" color=\"#00BFFF\" height={80} width={80} />;\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.getElementById(\"modal-root\");\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n  handleBackdropClick = (e) => {\n    if (e.target === e.currentTarget) {\n      this.props.onClose();\n    }\n  };\n  handleKeyDown = (e) => {\n    if (e.code === `Escape`) {\n      this.props.onClose();\n    }\n  };\n  render() {\n    const { content } = this.props;\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>\n          <img className={s.imgModal} src={content} alt=\"\" />\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  content: PropTypes.string.isRequired,\n};\n","const API_KEY = `21948852-6fcb2a22057a93c1128c532ff`;\nconst BASE_URL = `https://pixabay.com/api`;\n\nfunction fetchImages(nextName, page) {\n  console.log(page);\n  const url = `${BASE_URL}/?image_type=photo&orientation=horizontal&q=${nextName}&page=${page}&per_page=12&key=${API_KEY}`;\n  return fetch(url).then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return Promise.reject(new Error(\"No response from server\"));\n  });\n}\n\nconst api = {\n  fetchImages,\n};\n\nexport default api;\n","import React from \"react\";\nimport { Component } from \"react\";\nimport Searchbar from \"./components/searchbar\";\nimport Button from \"./components/button\";\nimport s from \"./App.module.css\";\nimport ImageGallery from \"./components/imageGallery\";\nimport LoaderComponent from \"./components/loader\";\nimport Modal from \"./components/modal\";\nimport imageAPI from \"./services/image-api\";\n\nexport default class App extends Component {\n  state = {\n    searchImages: \"\",\n    modalContent: \"\",\n    page: 1,\n    renderImages: [],\n    isLoading: false,\n    openModal: false,\n    error: null,\n  };\n\n  hadleChangeImage = (image) => {\n    this.setState({\n      searchImages: image,\n      page: 1,\n      renderImages: [],\n    });\n  };\n\n  handleNextPage = () => {\n    this.setState(({ page }) => {\n      return { page: page + 1 };\n    });\n  };\n  onScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n  toggleModal = () => {\n    this.setState(({ openModal }) => ({ openModal: !openModal }));\n  };\n  toggleLoading = () => {\n    this.setState(({ isLoading }) => ({ isLoading: !isLoading }));\n  };\n  modalContentSet = (itemId) => {\n    const { renderImages } = this.state;\n    const element = renderImages.find(({ id }) => id === itemId);\n    this.setState({ modalContent: element.largeImageURL });\n  };\n  componentDidUpdate(prevProps, prevState) {\n    const { searchImages, page } = this.state;\n    if (prevState.searchImages !== searchImages || prevState.page !== page) {\n      this.toggleLoading();\n      this.onScroll();\n      imageAPI\n        .fetchImages(searchImages, page)\n        .then(({ hits }) => {\n          this.setState(({ renderImages }) => {\n            return { renderImages: [...renderImages, ...hits] };\n          });\n        })\n        .then(this.onScroll)\n        .catch((error) => this.setState({ error }))\n        .finally(this.toggleLoading);\n    }\n  }\n  render() {\n    const { renderImages, isLoading, page, modalContent, openModal } =\n      this.state;\n    const isNotLastPage = renderImages.length / page === 12;\n    console.log(isNotLastPage);\n    const btnBeView = renderImages.length > 0 && isNotLastPage;\n    console.log(btnBeView);\n    return (\n      <div className={s.App}>\n        <Searchbar onSubmit={this.hadleChangeImage} />\n        <ImageGallery\n          images={renderImages}\n          onClick={this.toggleModal}\n          onItemClick={this.modalContentSet}\n        />\n        {openModal && (\n          <Modal content={modalContent} onClose={this.toggleModal} />\n        )}\n        {isLoading && <LoaderComponent />}\n        {btnBeView && <Button onMore={this.handleNextPage} />}\n      </div>\n    );\n  }\n}\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__NrGxG\",\"SearchForm\":\"Searchbar_SearchForm__1UOjP\",\"SearchForm__button\":\"Searchbar_SearchForm__button__3taUj\",\"SearchForm__button_label\":\"Searchbar_SearchForm__button_label__xzM6S\",\"SearchForm__input\":\"Searchbar_SearchForm__input__2JKLd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1UdUC\",\"Modal\":\"Modal_Modal__2Vozt\",\"imgModal\":\"Modal_imgModal__2UBSJ\"};"],"sourceRoot":""}